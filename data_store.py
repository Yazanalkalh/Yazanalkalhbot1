import datetime
from database import load_all_data, save_all_data as db_save

# ุงููุงูุจ ุงูุงูุชุฑุงุถู ุงููุงูู ูุฅุนุฏุงุฏุงุช ุงูุจูุช
DEFAULT_SETTINGS = {
    "users": [],
    "banned_users": [],
    "reminders": [
        "๐ ุณุจุญุงู ุงููู ูุจุญูุฏูุ ุณุจุญุงู ุงููู ุงูุนุธูู.",
        "๐คฒ ุงูููู ุฃุนูู ุนูู ุฐูุฑู ูุดูุฑู ูุญุณู ุนุจุงุฏุชู.",
        "๐ ูุง ุฅูู ุฅูุง ุงููู ูุญุฏู ูุง ุดุฑูู ููุ ูู ุงูููู ููู ุงูุญูุฏ ููู ุนูู ูู ุดูุก ูุฏูุฑ."
    ],
    "channel_messages": [
        "๐ ุจุณู ุงููู ูุจุฏุฃ ูููุงู ุฌุฏูุฏุงู\n\n๐ ูุงู ุชุนุงูู: {ููููู ููุชูููู ุงูููููู ููุฌูุนูู ููููู ููุฎูุฑูุฌูุง}",
        "๐ ุชุฐููุฑ ุฅููุงูู\n\n๐ ูุงู ุฑุณูู ุงููู ๏ทบ: (ุฅู ุงููู ุฌููู ูุญุจ ุงูุฌูุงู)"
    ],
    "dynamic_replies": {
        "ูุฑุญุจุง": "ุฃููุงู ูุณููุงู ุจู!",
        "ุงูุณูุงู ุนูููู": "ูุนูููู ุงูุณูุงู ูุฑุญูุฉ ุงููู ูุจุฑูุงุชู."
    },
    "scheduled_posts": [],
    "bot_config": {
        "channel_id": "",
        "schedule_interval_seconds": 86400,
        "allow_media": False,
        "welcome_message": "๐ **ุฃููุงู ุจูุ #name!**\n\nูุฐุง ุงูุจูุช ูุฎุตุต ููุชูุงุตู ูุน ูุฑูู ุงูููุงุฉ. ุฃุฑุณู ุงุณุชูุณุงุฑู ูุณูุชู ุงูุฑุฏ ุนููู.",
        "reply_message": "โ **ุชู ุงุณุชูุงู ุฑุณุงูุชู!** ุณูููู ุงููุฑูู ุจูุฑุงุฌุนุชูุง ูุงูุฑุฏ ุนููู.",
        "media_reject_message": "โ **ุนุฐุฑุงูุ** ููุณูุญ ุจุฅุฑุณุงู ุงูุฑุณุงุฆู ุงููุตูุฉ ููุท ุญุงููุงู."
    },
    "ui_config": {
        "date_button_label": "๐ ุงูููู ูุฌุฑู",
        "time_button_label": "โฐ ุงูุณุงุนุฉ ุงูุงู",
        "reminder_button_label": "๐ก ุชุฐููุฑ ูููู",
        "timezone": "Asia/Aden"
    }
}

# --- ุชููุฆุฉ ุงูุจูุงูุงุช ุนูุฏ ุจุฏุก ุงูุชุดุบูู ---
# ูุฐุง ูู ุงููุชุบูุฑ ุงูุฑุฆูุณู ุงูุฐู ุณูุณุชุฎุฏูู ูู ุงูุจูุช
bot_data = load_all_data()
start_time = datetime.datetime.now()

# ูุชุบูุฑุงุช ูุคูุชุฉ (ูุง ูุชู ุญูุธูุง ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช)
forwarded_message_links = {}
user_message_count = {}
silenced_users = {}

# --- ุฏุงูุฉ ุงูุญูุธ ุงููุฑูุฒูุฉ ---
def save_data():
    """
    ุฏุงูุฉ ูุณุงุนุฏุฉ ูุญูุธ ุงูุญุงูุฉ ุงูุญุงููุฉ ูู bot_data ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.
    """
    db_save(bot_data)
