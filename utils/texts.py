# âœ… ØªÙ… Ø§Ù„Ø¥ØµÙ„Ø§Ø­: Ù„Ù… Ù†Ø¹Ø¯ Ù†Ø³ØªØ®Ø¯Ù… data_storeØŒ Ù†Ø³ØªØ®Ø¯Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø©
from utils import database

# Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø§Ù…ÙˆØ³ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©ØŒ ÙˆÙ‡Ø°Ø§ ØµØ­ÙŠØ­ 100%
TEXTS = {
    # Key: { "description": "Arabic Label for the button", "default": "The actual text with placeholders" }
    
    # --- General UI & Actions ---
    "action_cancelled": {"description": "Ø±Ø³Ø§Ù„Ø© Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©", "default": "âœ… ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­."},
    "back_to_main_panel": {"description": "Ù†Øµ Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©", "default": "ðŸ”™ Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"},
    
    # --- User-Facing Messages ---
    "user_welcome": {"description": "Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ Ø¨Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…", "default": "ðŸ‘‹ Ø£Ù‡Ù„Ù‹Ø§ ÙˆØ³Ù‡Ù„Ù‹Ø§ Ø¨Ùƒ ÙŠØ§ #name!\nØ£Ù†Ø§ Ù‡Ù†Ø§ Ù„Ø®Ø¯Ù…ØªÙƒ."},
    "user_default_reply": {"description": "Ø§Ù„Ø±Ø¯ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…", "default": "âœ… ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø±Ø³Ø§Ù„ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­ØŒ Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙˆØ§ØµÙ„Ùƒ."},
    "user_force_subscribe": {"description": "Ø±Ø³Ø§Ù„Ø© Ø·Ù„Ø¨ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø¥Ø¬Ø¨Ø§Ø±ÙŠ", "default": "Ø¹Ø°Ø±Ù‹Ø§, Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø¨ÙˆØª, ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø£ÙˆÙ„Ø§Ù‹ ÙÙŠ Ù‚Ù†Ø§ØªÙ†Ø§."},
    "user_maintenance_mode": {"description": "Ø±Ø³Ø§Ù„Ø© ÙˆØ¶Ø¹ Ø§Ù„ØµÙŠØ§Ù†Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…", "default": "Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø§Ù„Ø¨ÙˆØª Ù‚ÙŠØ¯ Ø§Ù„ØµÙŠØ§Ù†Ø© Ø­Ø§Ù„ÙŠØ§Ù‹. Ø³Ù†Ø¹ÙˆØ¯ Ù‚Ø±ÙŠØ¨Ø§Ù‹."},


    # --- Admin Panel Titles ---
    "admin_panel_title": {"description": "Ø¹Ù†ÙˆØ§Ù† Ù„ÙˆØ­Ø© /admin", "default": "ðŸ”§ **Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©**"},
    "adv_panel_title": {"description": "Ø¹Ù†ÙˆØ§Ù† Ù„ÙˆØ­Ø© /hijri", "default": "ðŸ› ï¸ **Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© (ØºØ±ÙØ© Ø§Ù„Ù…Ø­Ø±ÙƒØ§Øª)**"},
    
    # --- Text Manager Feature Texts ---
    "text_manager_title": {"description": "Ø¹Ù†ÙˆØ§Ù† Ù‚Ø§Ø¦Ù…Ø© Ù…Ø¯ÙŠØ± Ø§Ù„Ù†ØµÙˆØµ", "default": "âœï¸ **Ù…Ø¯ÙŠØ± Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù…Ù„ÙƒÙŠ**\n\nØ§Ø®ØªØ± Ø§Ù„Ù†Øµ Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ ØªØ¹Ø¯ÙŠÙ„Ù‡:"},
    "text_manager_prompt_new": {"description": "Ø±Ø³Ø§Ù„Ø© Ø·Ù„Ø¨ Ø§Ù„Ù†Øµ Ø§Ù„Ø¬Ø¯ÙŠØ¯", "default": "Ø§Ù„Ù†Øµ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù€ `{text_name}` Ù‡Ùˆ:\n`{current_text}`\n\nØ£Ø±Ø³Ù„ Ø§Ù„Ø¢Ù† Ø§Ù„Ù†Øµ Ø§Ù„Ø¬Ø¯ÙŠØ¯:"},
    "text_manager_success": {"description": "Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Øµ", "default": "âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Øµ `{text_name}` Ø¨Ù†Ø¬Ø§Ø­."},
    
    # ... ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù†ØµÙˆØµ Ù‡Ù†Ø§
}

def get_text(key: str, **kwargs) -> str:
    """
    âœ… ØªÙ… Ø§Ù„Ø¥ØµÙ„Ø§Ø­: Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø¢Ù† ØªØ¬Ù„Ø¨ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù…Ø®ØµØµØ© Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.
    """
    # Ù†Ù‚ÙˆÙ… Ø¨Ø¬Ù„Ø¨ Ø£Ø­Ø¯Ø« Ù†Ø³Ø®Ø© Ù…Ù† Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù…Ø®ØµØµØ© Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    custom_texts = database.get_setting('custom_texts', {})
    
    # Ù†Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ ÙÙŠ Ø§Ù„Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„Ø«Ø§Ø¨Øª
    default_template = TEXTS.get(key, {}).get("default", f"_{key}_")
    
    # Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø®ØµØµ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§ØŒ ÙˆØ¥Ù„Ø§ Ù†Ø¹ÙˆØ¯ Ø¥Ù„Ù‰ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
    text_template = custom_texts.get(key, default_template)
    
    try:
        # Ù†Ù‚ÙˆÙ… Ø¨Ù…Ù„Ø¡ Ø£ÙŠ Ù…ØªØºÙŠØ±Ø§Øª Ù…Ø«Ù„ {name}
        return text_template.format(**kwargs)
    except (KeyError, ValueError):
        # ÙÙŠ Ø­Ø§Ù„ ÙˆØ¬ÙˆØ¯ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ØŒ Ù†Ø¹ÙŠØ¯ Ø§Ù„Ù†Øµ ÙƒÙ…Ø§ Ù‡Ùˆ
        return text_template

def get_all_text_descriptions() -> list:
    """(Ù„Ø§ ØªØºÙŠÙŠØ±Ø§Øª Ù‡Ù†Ø§ØŒ Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© Ø³Ù„ÙŠÙ…Ø©)"""
    return sorted([(key, details["description"]) for key, details in TEXTS.items()])
